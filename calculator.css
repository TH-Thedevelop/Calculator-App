
/* Body styling - CHANGED: Added global reset and background */
body
{
    margin: 0;                    /* CHANGED: Removed default margin */
    padding: 0;                   /* CHANGED: Removed default padding */
    background-color: #f0f0f0;    /* CHANGED: Added light gray background */
    font-family: Arial, sans-serif; /* CHANGED: Set consistent font family */
    border-top-left-radius: 25px; /* Adjust this value */
    border-top-right-radius: 25px; /* Adjust this value */
}

/* Navigation bar styling - NEW: Beautiful color palette navbar */
#navbar
{
    background-color: #777DA7;                 /* NEW: Muted purple background */
    padding: 2px 0;                            /* CHANGED: Reduced from 4px 0 to make it much smaller */
    position: fixed;                           /* NEW: Fixed positioning to stay at top */
    top: 0;                                   /* NEW: Position at top of viewport */
    left: 0;                                  /* NEW: Full width positioning */
    right: 0;                                 /* NEW: Full width positioning */
    z-index: 1000;                            /* NEW: High z-index to stay above calculator */
    transform: translateY(0);                  /* NEW: Initial position for animation */
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); /* NEW: Enhanced slide animation */
}

/* Auto-hide navbar when not hovering - NEW: Hide navbar functionality */
#navbar.hidden
{
    transform: translateY(-100%);              /* NEW: Slide navbar up and out of view */
}

/* Mobile navbar slide states - NEW: Enhanced mobile animations */
#navbar.mobile-slide-down
{
    transform: translateY(0);
    animation: slideDown 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

#navbar.mobile-slide-up
{
    transform: translateY(-100%);
    animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Mobile navbar slide animations - NEW: Keyframe animations */
@keyframes slideDown {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideUp {
    0% {
        transform: translateY(0);
        opacity: 1;
    }
    100% {
        transform: translateY(-100%);
        opacity: 0;
    }
}

/* Mobile navbar bounce effect - NEW: Subtle bounce on show */
#navbar.mobile-bounce
{
    animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes bounceIn {
    0% {
        transform: translateY(-100%) scale(0.8);
        opacity: 0;
    }
    50% {
        transform: translateY(-10%) scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

/* Hover area to show navbar - NEW: Invisible area at top to trigger navbar */
.navbar-hover-area
{
    position: fixed;                           /* NEW: Fixed positioning */
    top: 0;                                   /* NEW: At top of viewport */
    left: 0;                                  /* NEW: Full width */
    right: 0;                                 /* NEW: Full width */
    height: 10px;                             /* NEW: Small hover area */
    z-index: 1001;                            /* NEW: Above navbar */
    background: transparent;                  /* NEW: Invisible */
}

/* Navigation container - NEW: Flexible layout for navbar content */
.nav-container
{
    max-width: 1000px;          /* NEW: Match calculator max width */
    margin: 0 auto;            /* NEW: Center the navbar content */
    display: flex;             /* NEW: Flexbox for horizontal layout */
    justify-content: space-between; /* NEW: Space between sections */
    align-items: center;       /* NEW: Vertically center content */
    padding: 0 5px;          /* CHANGED: Reduced from 15px to 10px for even smaller navbar */
    position: relative;       /* NEW: For mobile menu positioning */
}

/* Navigation left section - NEW: Logo area */
.nav-left
{
    display: flex;
    align-items: center;
    flex: 0 0 auto;
}

/* Navigation right section - NEW: Mode toggle area */
.nav-right
{
    display: flex;
    align-items: center;
    flex: 0 0 auto;
}


/* Calculator icon - NEW: Icon-based navbar */
.calculator-icon
{
    font-size: 1.8rem;       /* NEW: Large icon size */
    cursor: pointer;         /* NEW: Pointer cursor for interactivity */
    transition: all 0.3s ease; /* NEW: Smooth transitions */
    padding: 5px;            /* NEW: Padding for touch target */
    border-radius: 8px;      /* NEW: Rounded corners */
}

/* Calculator icon hover effect - NEW: Interactive icon */
.calculator-icon:hover
{
    transform: scale(1.1);   /* NEW: Scale on hover */
    background-color: rgba(255, 255, 255, 0.1); /* NEW: Light background on hover */
}

/* Icon buttons container - NEW: Container for icon buttons */
.icon-buttons
{
    display: flex;             /* NEW: Flexbox for horizontal button layout */
    gap: 6px;                /* NEW: Spacing between icon buttons */
    align-items: center;      /* NEW: Center align buttons */
}

/* Icon buttons - NEW: Beautiful icon-based buttons */
.icon-btn
{
    padding: 8px;                            /* NEW: Square padding for icon buttons */
    border: none;                            /* NEW: Remove default button border */
    border-radius: 10px;                     /* NEW: Rounded corners */
    background-color: #94C9A9;               /* NEW: Muted green button background */
    color: white;                            /* NEW: White icons */
    font-size: 1.2rem;                       /* NEW: Large icon size */
    cursor: pointer;                         /* NEW: Pointer cursor on hover */
    transition: all 0.3s ease;              /* NEW: Smooth transitions for hover effects */
    box-shadow: 0 2px 6px rgba(148, 201, 169, 0.3); /* NEW: Subtle green shadow */
    width: 40px;                             /* NEW: Fixed width for consistency */
    height: 40px;                            /* NEW: Fixed height for consistency */
    display: flex;                           /* NEW: Flexbox for centering */
    align-items: center;                     /* NEW: Center align icon */
    justify-content: center;                 /* NEW: Center justify icon */
}

/* Icon button hover effects - NEW: Beautiful hover states */
.icon-btn:hover
{
    background-color: #C6ECAE;                 /* NEW: Light green on hover */
    transform: translateY(-2px) scale(1.05);   /* NEW: Lift and scale effect */
    box-shadow: 0 4px 12px rgba(198, 236, 174, 0.4); /* NEW: Enhanced shadow on hover */
}

/* Active icon button styling - NEW: Beautiful active state */
.icon-btn.active
{
    background-color: #FE5F55;                 /* NEW: Orange for active state */
    box-shadow: 0 4px 15px rgba(254, 95, 85, 0.4); /* NEW: Orange glow effect */
    transform: scale(1.05);                   /* NEW: Slight scale for active state */
}


/* ========================================
   MOBILE MENU STYLES
   ======================================== */

/* Mobile menu toggle button - NEW: Hamburger menu */
.mobile-menu-toggle
{
    display: none;                             /* NEW: Hidden by default */
    flex-direction: column;                    /* NEW: Stack hamburger lines */
    justify-content: center;                   /* NEW: Center hamburger lines */
    align-items: center;                       /* NEW: Center hamburger lines */
    width: 40px;                              /* NEW: Fixed width */
    height: 40px;                             /* NEW: Fixed height */
    background: none;                         /* NEW: No background */
    border: none;                             /* NEW: No border */
    cursor: pointer;                          /* NEW: Pointer cursor */
    padding: 8px;                             /* NEW: Padding for touch target */
    border-radius: 8px;                       /* NEW: Rounded corners */
    transition: all 0.3s ease;                /* NEW: Smooth transitions */
}

/* Hamburger lines - NEW: Three lines for menu */
.hamburger-line
{
    width: 20px;                              /* NEW: Line width */
    height: 2px;                              /* NEW: Line height */
    background-color: white;                  /* NEW: White lines */
    margin: 2px 0;                            /* NEW: Space between lines */
    transition: all 0.3s ease;                /* NEW: Smooth transitions */
    border-radius: 1px;                       /* NEW: Rounded line ends */
}

/* Mobile menu toggle hover - NEW: Hover effect */
/* .mobile-menu-toggle:hover
{
    background-color: rgba(255, 255, 255, 0.1); /* NEW: Light background on hover */
 */

.mobile-menu-toggle:hover .hamburger-line
{
    background-color: #C6ECAE;                /* NEW: Light green on hover */
}

/* Mobile menu toggle active - NEW: Active state (hamburger to X) */
.mobile-menu-toggle.active .hamburger-line:nth-child(1)
{
    transform: rotate(45deg) translate(5px, 5px); /* NEW: Rotate first line */
}

.mobile-menu-toggle.active .hamburger-line:nth-child(2)
{
    opacity: 0;                               /* NEW: Hide middle line */
}

.mobile-menu-toggle.active .hamburger-line:nth-child(3)
{
    transform: rotate(-45deg) translate(7px, -6px); /* NEW: Rotate third line */
}

/* Mobile menu - NEW: Dropdown menu */
.mobile-menu
{
    position: absolute;                        /* NEW: Absolute positioning */
    top: 100%;                                /* NEW: Below navbar */
    left: 0;                                  /* NEW: Full width */
    right: 0;                                 /* NEW: Full width */
    background-color: #777DA7;                /* NEW: Purple background */
    border-bottom-left-radius: 15px;          /* NEW: Rounded bottom corners */
    border-bottom-right-radius: 15px;         /* NEW: Rounded bottom corners */
    box-shadow: 0 4px 20px rgba(119, 125, 167, 0.3); /* NEW: Drop shadow */
    transform: translateY(-100%);             /* NEW: Start hidden above */
    opacity: 0;                               /* NEW: Start transparent */
    visibility: hidden;                       /* NEW: Start hidden */
    transition: all 0.3s ease-in-out;         /* NEW: Smooth transitions */
    z-index: 999;                             /* NEW: Above other elements */
    overflow: hidden;                         /* NEW: Hide overflow */
}

/* Mobile menu when open - NEW: Show menu */
.mobile-menu.open
{
    transform: translateY(0);                 /* NEW: Slide into view */
    opacity: 1;                               /* NEW: Make visible */
    visibility: visible;                      /* NEW: Make visible */
}

/* Mobile menu content - NEW: Content container */
.mobile-menu-content
{
    padding: 20px;                            /* NEW: Content padding */
}

/* Mobile mode toggle - NEW: Mode selection */
.mobile-mode-toggle
{
    display: flex;                            /* NEW: Flexbox layout */
    flex-direction: column;                   /* NEW: Vertical layout */
    gap: 8px;                                 /* NEW: Space between buttons */
    margin-bottom: 20px;                      /* NEW: Space below */
}

/* Mobile mode button - NEW: Mode selection button */
.mobile-mode-btn
{
    display: flex;                            /* NEW: Flexbox layout */
    align-items: center;                      /* NEW: Center align items */
    padding: 12px 16px;                       /* NEW: Button padding */
    background-color: rgba(255, 255, 255, 0.1); /* NEW: Semi-transparent background */
    border: none;                             /* NEW: No border */
    border-radius: 10px;                      /* NEW: Rounded corners */
    color: white;                             /* NEW: White text */
    font-size: 1rem;                          /* NEW: Font size */
    font-weight: 500;                         /* NEW: Medium weight */
    cursor: pointer;                          /* NEW: Pointer cursor */
    transition: all 0.3s ease;                /* NEW: Smooth transitions */
    text-align: left;                         /* NEW: Left align text */
    width: 100%;                              /* NEW: Full width */
}

/* Mobile mode button hover - NEW: Hover effect */
.mobile-mode-btn:hover
{
    background-color: rgba(198, 236, 174, 0.3); /* NEW: Light green background */
    transform: translateX(4px);               /* NEW: Slide right */
}

/* Mobile mode button active - NEW: Active state */
.mobile-mode-btn.active
{
    background-color: #FE5F55;                /* NEW: Orange background */
    box-shadow: 0 2px 8px rgba(254, 95, 85, 0.3); /* NEW: Orange shadow */
}

/* Mobile mode icon - NEW: Mode icon styling */
.mode-icon
{
    font-size: 1.2rem;                        /* NEW: Icon size */
    margin-right: 12px;                       /* NEW: Space after icon */
    width: 24px;                              /* NEW: Fixed icon width */
    text-align: center;                       /* NEW: Center icon */
}

/* Mobile mode text - NEW: Mode text styling */
.mode-text
{
    flex: 1;                                  /* NEW: Take remaining space */
    font-size: 1rem;                          /* NEW: Text size */
}

/* Mobile menu actions - NEW: Action buttons */
.mobile-menu-actions
{
    display: flex;                            /* NEW: Flexbox layout */
    flex-direction: column;                   /* NEW: Vertical layout */
    gap: 8px;                                 /* NEW: Space between buttons */
    border-top: 1px solid rgba(255, 255, 255, 0.2); /* NEW: Top border */
    padding-top: 16px;                        /* NEW: Top padding */
}

/* Mobile action button - NEW: Action button */
.mobile-action-btn
{
    display: flex;                            /* NEW: Flexbox layout */
    align-items: center;                      /* NEW: Center align items */
    padding: 10px 16px;                       /* NEW: Button padding */
    background-color: rgba(255, 255, 255, 0.1); /* NEW: Semi-transparent background */
    border: none;                             /* NEW: No border */
    border-radius: 8px;                       /* NEW: Rounded corners */
    color: white;                             /* NEW: White text */
    font-size: 0.9rem;                        /* NEW: Font size */
    font-weight: 400;                         /* NEW: Normal weight */
    cursor: pointer;                          /* NEW: Pointer cursor */
    transition: all 0.3s ease;                /* NEW: Smooth transitions */
    text-align: left;                         /* NEW: Left align text */
    width: 100%;                              /* NEW: Full width */
}

/* Mobile action button hover - NEW: Hover effect */
.mobile-action-btn:hover
{
    background-color: rgba(148, 201, 169, 0.3); /* NEW: Green background */
    transform: translateX(4px);               /* NEW: Slide right */
}

/* Mobile action icon - NEW: Action icon styling */
.action-icon
{
    font-size: 1rem;                          /* NEW: Icon size */
    margin-right: 10px;                       /* NEW: Space after icon */
    width: 20px;                              /* NEW: Fixed icon width */
    text-align: center;                       /* NEW: Center icon */
}

/* Mobile action text - NEW: Action text styling */
.action-text
{
    flex: 1;                                  /* NEW: Take remaining space */
    font-size: 0.9rem;                        /* NEW: Text size */
}

/* Body layout adjustment - CHANGED: Account for fixed navbar */
body
{
    margin-top: 35px;                        /* CHANGED: Reduced from 45px to 35px to match ultra-compact navbar */
    display: flex;                          /* CHANGED: Flexbox for centering calculator */
    justify-content: center;                /* CHANGED: Center calculator horizontally */
    align-items: center;                    /* CHANGED: Center calculator vertically */
    min-height: calc(100vh - 35px);        /* CHANGED: Adjusted height calculation for ultra-compact navbar */
    background-color: white;               /* CHANGED: White background for calculator area */
    padding: 10px;                         /* NEW: Add padding for mobile devices */
    box-sizing: border-box;                /* NEW: Include padding in width calculation */
}
/* Calculator container - NEW: Beautiful color palette styling */
#calculator
{
    font-family: 'Segoe UI', Arial, sans-serif; /* IMPROVED: Better font family */
    background-color: #777DA7;                  /* NEW: Muted purple background */
    border-radius: 25px;                        /* IMPROVED: More rounded corners */
    max-width: 575px;                           /* CHANGED: Increased width for conversion mode */
    width: 100%;                                /* IMPROVED: Responsive width */
    overflow: visible;                          /* CHANGED: Allow history sidebar to overflow */
    box-shadow: 0 8px 32px rgba(119, 125, 167, 0.3); /* NEW: Purple shadow */
    border: 2px solid #94C9A9;                  /* NEW: Green border accent */
    position: relative;                         /* NEW: Relative positioning for sidebar */
    min-width: 280px;                          /* NEW: Minimum width for mobile */
    margin: 0 auto;                            /* NEW: Center calculator on larger screens */
}
/* Calculator display - NEW: Beautiful color palette display */
#display
{
    width: 100%;                            /* ORIGINAL: Full width */
    padding: 25px 20px;                     /* IMPROVED: Better padding (top/bottom, left/right) */
    font-size: 2.5rem;                      /* IMPROVED: More reasonable font size */
    text-align: right;                      /* IMPROVED: Right-aligned like real calculators */
    border-top-left-radius: 25px; /* Adjust this value */
    border-top-right-radius: 25px; /* Adjust this value */
    border: none;                           /* ORIGINAL: No border */
    background-color: #FE5F55;              /* NEW: Vibrant reddish-orange background */
    color: white;                           /* ORIGINAL: White text */
    font-weight: 300;                       /* IMPROVED: Lighter font weight for modern look */
    letter-spacing: 1px;                    /* IMPROVED: Better character spacing */
    box-sizing: border-box;                 /* IMPROVED: Include padding in width calculation */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); /* NEW: Subtle text shadow for readability */
    min-height: 80px;                       /* NEW: Minimum height for mobile */
    overflow-wrap: break-word;              /* NEW: Handle long expressions */
    word-break: break-all;                  /* NEW: Break long numbers */
}
/* Keyboard mode containers - NEW: Beautiful color palette button area */
.keyboard-mode
{
    display: grid;                          /* CHANGED: Grid layout for button arrangement */
    gap: 12px;                             /* IMPROVED: Better spacing between buttons */
    padding: 20px;                         /* IMPROVED: More organized padding */
    background-color: #C6ECAE;             /* NEW: Pale yellow-green background for button area */
    border-bottom-left-radius: 25px; /* Adjust this value */
    border-bottom-right-radius: 25px; /* Adjust this value */
}

/* Basic calculator layout - IMPROVED: Better organized 4-column grid */
#normal-keys
{
    grid-template-columns: repeat(4, 1fr);  /* CHANGED: 4 equal columns for basic calculator */
    gap: 12px;                             /* IMPROVED: Consistent gap with parent container */
}

/* Basic calculator buttons - IMPROVED: Better organized button styling */
#normal-keys button
{
    width: 100%;                           /* IMPROVED: Full width within grid cell */
    height: 70px;                          /* IMPROVED: Better button height */
    font-size: 1.4rem;                     /* IMPROVED: Better font size */
    border-radius: 12px;                   /* IMPROVED: More modern rounded corners */
    font-weight: 500;                      /* IMPROVED: Medium font weight */
    transition: all 0.2s ease;            /* IMPROVED: Smooth transitions */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* IMPROVED: Subtle button shadow */
}

/* Scientific mode layout - IMPROVED: Better organized 5-column grid */
#scientific-keys
{
    grid-template-columns: repeat(5, 1fr);  /* NEW: 5 equal columns for scientific mode */
    gap: 12px;                             /* IMPROVED: Consistent gap */
}

/* Conversion mode layout - NEW: Dedicated conversion mode styling */
#conversion-keys
{
    grid-template-columns: repeat(4, 1fr);  /* NEW: 4 equal columns for conversion mode */
    gap: 15px;                             /* CHANGED: Increased gap for better spacing */
}

/* Conversion mode buttons - NEW: Optimized button sizes for wider layout */
#conversion-keys button
{
    height: 70px;                          /* NEW: Slightly taller buttons for conversion mode */
    font-size: 1.3rem;                     /* NEW: Slightly larger font for better readability */
}

/* History sidebar - NEW: Collapsible history panel styling */
.history-panel
{
    position: absolute;                     /* NEW: Absolute positioning for sidebar */
    top: 0;                                /* NEW: Align to top of calculator */
    right: -250px;                         /* NEW: Start hidden off-screen */
    width: 240px;                          /* NEW: Fixed width for history panel */
    height: 100%;                          /* NEW: Full height of calculator */
    background-color: #94C9A9;             /* NEW: Green background matching theme */
    border-radius: 20px 20px 20px 20px;          /* NEW: Rounded right corners */
    border: 2px solid #777DA7;             /* NEW: Purple border accent */
    box-shadow: -4px 0 15px rgba(119, 125, 167, 0.3); /* NEW: Left shadow */
    transition: right 0.3s ease-in-out;    /* NEW: Smooth slide animation */
    z-index: 10;                           /* NEW: Above calculator content */
    overflow: hidden;                      /* NEW: Hide overflow content */
}

/* History panel when visible - NEW: Slide into view */
.history-panel:not(.hidden)
{
    right: -250px;                              /* NEW: Slide into view */
    opacity: 1;                            /* NEW: Make fully visible */
    visibility: visible;                   /* NEW: Make visible in layout */
    pointer-events: auto;                  /* NEW: Enable interactions when visible */
}

/* History panel when hidden - NEW: Slide out of view */
.history-panel.hidden
{
    right: 0;                         /* CHANGED: Move further off-screen */
    opacity: 0;                            /* NEW: Make completely transparent */
    visibility: hidden;                    /* NEW: Completely hide from view */
    pointer-events: none;                  /* NEW: Disable interactions when hidden */
    transition: right 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; /* NEW: Smooth transitions */
}

/* History header - NEW: Header styling for history panel */
.history-header
{
    background-color: #777DA7;             /* NEW: Purple header background */
    padding: 15px;                         /* NEW: Header padding */
    display: flex;                         /* NEW: Flexbox for header layout */
    justify-content: space-between;        /* NEW: Space between title and close button */
    align-items: center;                   /* NEW: Center align items */
    border-bottom: 2px solid #94C9A9;     /* NEW: Bottom border */
}

/* History header title - NEW: Title styling */
.history-header h3
{
    margin: 0;                             /* NEW: Remove default margin */
    color: white;                          /* NEW: White text */
    font-size: 1.1rem;                     /* NEW: Header font size */
    font-weight: 600;                      /* NEW: Bold text */
}

/* History toggle button - NEW: Close button styling */
.history-toggle-btn
{
    background: none;                      /* NEW: No background */
    border: none;                          /* NEW: No border */
    color: white;                          /* NEW: White text */
    font-size: 1.2rem;                     /* NEW: Larger close icon */
    cursor: pointer;                       /* NEW: Pointer cursor */
    padding: 5px;                          /* NEW: Button padding */
    border-radius: 50%;                    /* NEW: Circular button */
    transition: background-color 0.2s ease; /* NEW: Smooth hover transition */
}

/* History toggle button hover - NEW: Hover effect */
.history-toggle-btn:hover
{
    background-color: rgba(255, 255, 255, 0.2); /* NEW: Semi-transparent white background */
}

/* History list container - NEW: Scrollable history content */
.history-list
{
    height: calc(100% - 70px);             /* NEW: Full height minus header */
    overflow-y: auto;                      /* NEW: Vertical scrolling */
    padding: 10px;                         /* NEW: List padding */
}

/* History item - NEW: Individual history entry styling */
.history-item
{
    background-color: #C6ECAE;             /* NEW: Light green background */
    margin-bottom: 8px;                    /* NEW: Spacing between items */
    padding: 10px;                         /* NEW: Item padding */
    border-radius: 8px;                    /* NEW: Rounded corners */
    border-left: 4px solid #FE5F55;       /* NEW: Orange left border accent */
    cursor: pointer;                       /* NEW: Pointer cursor for clickable items */
    transition: all 0.2s ease;             /* NEW: Smooth hover transition */
    font-size: 0.9rem;                     /* NEW: Smaller font for history items */
}

/* History item hover - NEW: Hover effect for history items */
.history-item:hover
{
    background-color: #FE5F55;             /* NEW: Orange background on hover */
    color: white;                          /* NEW: White text on hover */
    transform: translateX(2px);            /* NEW: Slight slide effect */
}

/* History expression - NEW: Expression styling */
.history-expression
{
    font-weight: 600;                      /* NEW: Bold expression text */
    margin-bottom: 4px;                    /* NEW: Space below expression */
}

/* History result - NEW: Result styling */
.history-result
{
    color: #777DA7;                        /* NEW: Purple result text */
    font-weight: 500;                      /* NEW: Medium weight for result */
}

/* History timestamp - NEW: Timestamp styling */
.history-timestamp
{
    font-size: 0.8rem;                     /* NEW: Smaller timestamp text */
    color: #777DA7;                        /* NEW: Purple timestamp text */
    margin-top: 4px;                       /* NEW: Space above timestamp */
    font-style: italic;                    /* NEW: Italic timestamp */
}

/* Scientific mode buttons - IMPROVED: Better organized scientific buttons */
#scientific-keys button
{
    width: 100%;                           /* IMPROVED: Full width within grid cell */
    height: 65px;                          /* IMPROVED: Better button height */
    font-size: 1.2rem;                     /* IMPROVED: Better font size for scientific mode */
    border-radius: 12px;                   /* IMPROVED: Consistent rounded corners */
    font-weight: 500;                      /* IMPROVED: Medium font weight */
    transition: all 0.2s ease;            /* IMPROVED: Smooth transitions */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* IMPROVED: Subtle button shadow */
}

/* Calculator buttons - NEW: Beautiful color palette button styling */
button
{
    width: 120px;                           /* ORIGINAL: Button width */
    height: 90px;                           /* ORIGINAL: Button height */
    border-radius: 12px;                    /* IMPROVED: More modern rounded corners */
    border: none;                           /* ORIGINAL: No border */
    background-color: #94C9A9;              /* NEW: Muted green background for numbers */
    color: white;                           /* NEW: White text */
    font-size: 1.6rem;                      /* IMPROVED: Better font size */
    font-weight: 500;                       /* IMPROVED: Medium font weight */
    cursor: pointer;                        /* ORIGINAL: Pointer cursor */
    transition: all 0.2s ease;             /* IMPROVED: Smooth transitions */
    box-shadow: 0 2px 8px rgba(148, 201, 169, 0.3); /* NEW: Green shadow */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); /* NEW: Subtle text shadow */
}

/* Button hover effects - NEW: Beautiful color palette hover states */
button:hover
{
    background-color: #4aae0b;               /* NEW: Lighter green on hover */
    transform: translateY(-1px);               /* IMPROVED: Subtle lift effect */
    box-shadow: 0 4px 12px rgba(198, 236, 174, 0.4); /* NEW: Enhanced green shadow */
}

button:active
{
    background-color: #777DA7;               /* NEW: Purple accent on click */
    transform: translateY(0);                  /* IMPROVED: Reset transform on click */
}

/* Operator button styling - NEW: Beautiful color palette operator styling */
.operator-btn
{
    background-color: #FE5F55;                 /* NEW: Vibrant reddish-orange for operators */
    color: white;                              /* IMPROVED: Ensure white text */
    font-weight: 600;                          /* IMPROVED: Bolder text for operators */
    box-shadow: 0 2px 8px rgba(254, 95, 85, 0.3); /* NEW: Orange shadow */
}

.operator-btn:hover
{
    background-color: #ac1c12;                /* NEW: Light green on hover */
    transform: translateY(-1px);               /* IMPROVED: Consistent hover effect */
    box-shadow: 0 4px 12px rgba(198, 236, 174, 0.4); /* NEW: Green shadow on hover */
}

.operator-btn:active
{
    background-color: #777DA7;                 /* NEW: Purple accent on click */
}

/* History button styling - NEW: Beautiful color palette history styling */
.history-btn
{
    background-color: #777DA7;                   /* NEW: Muted purple for history buttons */
    color: white;                                /* NEW: White text */
    font-weight: 600;                            /* NEW: Bold text */
    font-size: 1.2rem;                          /* NEW: Slightly smaller font for icons */
    box-shadow: 0 2px 8px rgba(119, 125, 167, 0.3); /* NEW: Purple shadow */
}

.history-btn:hover
{
    background-color: #16206c;                   /* NEW: Light green on hover */
    transform: translateY(-1px);                 /* NEW: Consistent hover effect */
    box-shadow: 0 4px 12px rgba(198, 236, 174, 0.4); /* NEW: Green shadow on hover */
}

.history-btn:active
{
    background-color: #FE5F55;                   /* NEW: Orange accent on click */
}

/* Conversion button styling - NEW: Beautiful color palette conversion styling */
.convert-btn
{
    background-color: #94C9A9;                   /* NEW: Muted green for conversion buttons */
    color: white;                                /* NEW: White text */
    font-weight: 600;                            /* NEW: Bold text */
    font-size: 1rem;                            /* NEW: Smaller font for conversion labels */
    box-shadow: 0 2px 8px rgba(148, 201, 169, 0.3); /* NEW: Green shadow */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); /* NEW: Subtle text shadow */
}

.convert-btn:hover
{
    background-color: #4aae0b;                   /* NEW: Light green on hover */
    transform: translateY(-1px);                 /* NEW: Consistent hover effect */
    box-shadow: 0 4px 12px rgba(198, 236, 174, 0.4); /* NEW: Green shadow on hover */
}

.convert-btn:active
{
    background-color: #777DA7;                   /* NEW: Purple accent on click */
}

/* ========================================
   RESPONSIVE DESIGN - MOBILE FIRST APPROACH
   ======================================== */

/* Mobile devices (320px and up) */
@media screen and (max-width: 768px) {
    /* Body adjustments for mobile */
    body {
        margin-top: 30px;
        padding: 5px;
        min-height: calc(100vh - 30px);
    }
    
    /* Navbar adjustments for mobile */
    #navbar {
        padding: 1px 0;
    }
    
    .nav-container {
        padding: 0 8px;
        justify-content: space-between;
    }
    
    /* Show mobile menu toggle, hide desktop mode toggle */
    .mobile-menu-toggle {
        display: flex;
    }
    
    .nav-right {
        display: none;
    }
    
    /* Calculator icon adjustments for mobile */
    .calculator-icon {
        font-size: 1.4rem;
        padding: 4px;
    }
    
    /* Mobile menu specific styles */
    .mobile-menu {
        display: block;
    }
    
    /* Mobile navbar behavior - NEW: Enhanced mobile navbar */
    #navbar {
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Ensure navbar stays visible on mobile by default */
    #navbar.hidden {
        transform: translateY(-100%);
    }
    
    /* Mobile navbar slide animations */
    #navbar.mobile-slide-down {
        transform: translateY(0);
        animation: slideDown 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    #navbar.mobile-slide-up {
        transform: translateY(-100%);
        animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Calculator container for mobile */
    #calculator {
        max-width: 100%;
        min-width: 280px;
        border-radius: 20px;
    }
    
    /* Display adjustments for mobile */
    #display {
        padding: 20px 15px;
        font-size: 1.8rem;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
        min-height: 70px;
    }
    
    /* Button area adjustments for mobile */
    .keyboard-mode {
        padding: 15px;
        gap: 8px;
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
    }
    
    /* Normal mode buttons for mobile */
    #normal-keys button {
        height: 60px;
        font-size: 1.2rem;
        border-radius: 10px;
    }
    
    /* Scientific mode buttons for mobile */
    #scientific-keys button {
        height: 55px;
        font-size: 1rem;
        border-radius: 10px;
    }
    
    /* Conversion mode buttons for mobile */
    #conversion-keys button {
        height: 60px;
        font-size: 1.1rem;
        border-radius: 10px;
    }
    
    /* History sidebar for mobile */
    .history-panel {
        width: 200px;
        right: -200px;
    }
    
    .history-panel:not(.hidden) {
        right: -200px;
    }
    
    .history-header {
        padding: 12px;
    }
    
    .history-header h3 {
        font-size: 1rem;
    }
    
    .history-item {
        padding: 8px;
        font-size: 0.8rem;
    }
}

/* Small mobile devices (320px to 375px) */
@media screen and (max-width: 375px) {
    /* Even smaller adjustments for very small screens */
    #display {
        font-size: 1.6rem;
        padding: 15px 12px;
        min-height: 60px;
    }
    
    .keyboard-mode {
        padding: 12px;
        gap: 6px;
    }
    
    #normal-keys button,
    #conversion-keys button {
        height: 55px;
        font-size: 1.1rem;
    }
    
    #scientific-keys button {
        height: 50px;
        font-size: 0.9rem;
    }
    
    .calculator-icon {
        font-size: 1.2rem;
        padding: 3px;
    }
    
    .icon-btn {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
    
    .mode-btn {
        padding: 1px 4px;
        font-size: 0.65rem;
    }
}

/* Tablet devices (481px to 768px) */
@media screen and (min-width: 481px) and (max-width: 768px) {
    body {
        padding: 15px;
    }
    
    #calculator {
        max-width: 500px;
    }
    
    #display {
        font-size: 2.2rem;
        padding: 22px 18px;
    }
    
    .keyboard-mode {
        padding: 18px;
        gap: 10px;
    }
    
    #normal-keys button {
        height: 65px;
        font-size: 1.3rem;
    }
    
    #scientific-keys button {
        height: 60px;
        font-size: 1.1rem;
    }
    
    #conversion-keys button {
        height: 65px;
        font-size: 1.2rem;
    }
    
    .calculator-icon {
        font-size: 1.6rem;
        padding: 6px;
    }
    
    .icon-btn {
        width: 42px;
        height: 42px;
        font-size: 1.3rem;
    }
}

/* Desktop and larger tablets (769px and up) */
@media screen and (min-width: 769px) {
    body {
        padding: 20px;
    }
    
    #calculator {
        max-width: 575px;
    }
    
    #display {
        font-size: 2.5rem;
        padding: 25px 20px;
    }
    
    .keyboard-mode {
        padding: 20px;
        gap: 12px;
    }
    
    /* History sidebar for desktop */
    .history-panel {
        width: 240px;
        right: -250px;
    }
    
    .history-panel:not(.hidden) {
        right: -250px;
    }
}

/* Large desktop screens (1200px and up) */
@media screen and (min-width: 1200px) {
    #calculator {
        max-width: 600px;
    }
    
    #display {
        font-size: 2.8rem;
        padding: 30px 25px;
    }
    
    .keyboard-mode {
        padding: 25px;
        gap: 15px;
    }
    
    #normal-keys button {
        height: 75px;
        font-size: 1.5rem;
    }
    
    #scientific-keys button {
        height: 70px;
        font-size: 1.3rem;
    }
    
    #conversion-keys button {
        height: 75px;
        font-size: 1.4rem;
    }
}

/* Landscape orientation adjustments for mobile */
@media screen and (max-height: 500px) and (orientation: landscape) {
    body {
        margin-top: 25px;
        min-height: calc(100vh - 25px);
        padding: 5px;
    }
    
    #navbar {
        padding: 1px 0;
    }
    
    #calculator {
        max-width: 90vw;
        border-radius: 15px;
    }
    
    #display {
        padding: 15px 20px;
        font-size: 1.8rem;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        min-height: 50px;
    }
    
    .keyboard-mode {
        padding: 12px;
        gap: 8px;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
    }
    
    #normal-keys button,
    #scientific-keys button,
    #conversion-keys button {
        height: 45px;
        font-size: 1rem;
        border-radius: 8px;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
    /* Optimize for touch devices */
    button {
        min-height: 44px; /* Apple's recommended touch target size */
        min-width: 44px;
    }
    
    .mode-btn {
        min-height: 36px;
        min-width: 36px;
    }
    
    .navbar-history-btn {
        min-height: 40px;
        min-width: 40px;
    }
    
    /* Remove hover effects on touch devices */
    button:hover {
        transform: none;
        box-shadow: 0 2px 8px rgba(148, 201, 169, 0.3);
    }
    
    
    .mode-btn:hover {
        transform: none;
        background-color: #94C9A9;
        box-shadow: 0 1px 3px rgba(148, 201, 169, 0.3);
    }
    
    .navbar-history-btn:hover {
        transform: none;
        background-color: #94C9A9;
        box-shadow: 0 2px 6px rgba(148, 201, 169, 0.3);
    }
}


/* ========================================
   IPHONE 13 SERIES SPECIFIC OPTIMIZATIONS
   ======================================== */

/* iPhone 13 (390x844) */
@media screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) {
    body {
        margin-top: 32px;
        padding: 8px;
        min-height: calc(100vh - 32px);
    }
    
    #navbar {
        padding: 1px 0;
    }
    
    .nav-container {
        padding: 0 10px;
    }
    
    /* Show mobile menu toggle, hide desktop mode toggle */
    .mobile-menu-toggle {
        display: flex;
    }
    
    .nav-right {
        display: none;
    }
    
    .calculator-icon {
        font-size: 1.5rem;
        padding: 5px;
    }
    
    .icon-btn {
        width: 38px;
        height: 38px;
        font-size: 1.1rem;
    }
    
    /* Mobile menu adjustments for iPhone 13 */
    .mobile-menu-content {
        padding: 16px;
    }
    
    .mobile-mode-btn {
        padding: 14px 16px;
        font-size: 1.1rem;
    }
    
    .mobile-action-btn {
        padding: 12px 16px;
        font-size: 1rem;
    }
    
    #calculator {
        max-width: 374px;
        border-radius: 22px;
    }
    
    #display {
        padding: 22px 18px;
        font-size: 2rem;
        border-top-left-radius: 22px;
        border-top-right-radius: 22px;
        min-height: 75px;
    }
    
    .keyboard-mode {
        padding: 18px;
        gap: 10px;
        border-bottom-left-radius: 22px;
        border-bottom-right-radius: 22px;
    }
    
    #normal-keys button {
        height: 62px;
        font-size: 1.25rem;
        border-radius: 11px;
    }
    
    #scientific-keys button {
        height: 57px;
        font-size: 1.05rem;
        border-radius: 11px;
    }
    
    #conversion-keys button {
        height: 62px;
        font-size: 1.15rem;
        border-radius: 11px;
    }
    
    .history-panel {
        width: 220px;
        right: -220px;
    }
    
    .history-panel:not(.hidden) {
        right: -220px;
    }
}

/* iPhone 13 Pro (390x844) - Same as iPhone 13 */
@media screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (-webkit-min-device-pixel-ratio: 3) {
    /* Inherits iPhone 13 styles with Pro-specific adjustments */
    .calculator-icon {
        font-size: 1.55rem;
        padding: 5px;
    }
    
    .icon-btn {
        width: 39px;
        height: 39px;
        font-size: 1.15rem;
    }
    
    #display {
        font-size: 2.1rem;
    }
    
    #normal-keys button {
        height: 64px;
        font-size: 1.3rem;
    }
    
    #scientific-keys button {
        height: 59px;
        font-size: 1.1rem;
    }
    
    #conversion-keys button {
        height: 64px;
        font-size: 1.2rem;
    }
}

/* iPhone 13 Pro Max (428x926) */
@media screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) {
    body {
        margin-top: 34px;
        padding: 10px;
        min-height: calc(100vh - 34px);
    }
    
    #navbar {
        padding: 2px 0;
    }
    
    .nav-container {
        padding: 0 12px;
    }
    
    .calculator-icon {
        font-size: 1.7rem;
        padding: 6px;
    }
    
    .icon-btn {
        width: 42px;
        height: 42px;
        font-size: 1.25rem;
    }
    
    .mode-btn {
        padding: 3px 8px;
        font-size: 0.8rem;
    }
    
    .navbar-history-btn {
        padding: 5px 10px;
        font-size: 0.9rem;
    }
    
    #calculator {
        max-width: 408px;
        border-radius: 24px;
    }
    
    #display {
        padding: 26px 22px;
        font-size: 2.3rem;
        border-top-left-radius: 24px;
        border-top-right-radius: 24px;
        min-height: 85px;
    }
    
    .keyboard-mode {
        padding: 22px;
        gap: 12px;
        border-bottom-left-radius: 24px;
        border-bottom-right-radius: 24px;
    }
    
    #normal-keys button {
        height: 68px;
        font-size: 1.35rem;
        border-radius: 12px;
    }
    
    #scientific-keys button {
        height: 63px;
        font-size: 1.15rem;
        border-radius: 12px;
    }
    
    #conversion-keys button {
        height: 68px;
        font-size: 1.25rem;
        border-radius: 12px;
    }
    
    .history-panel {
        width: 240px;
        right: -240px;
    }
    
    .history-panel:not(.hidden) {
        right: -240px;
    }
    
    .history-header {
        padding: 16px;
    }
    
    .history-header h3 {
        font-size: 1.1rem;
    }
    
    .history-item {
        padding: 10px;
        font-size: 0.85rem;
    }
}

/* iPhone 13 series landscape orientation */
@media screen and (device-width: 844px) and (device-height: 390px) and (-webkit-device-pixel-ratio: 3),
       screen and (device-width: 926px) and (device-height: 428px) and (-webkit-device-pixel-ratio: 3) {
    body {
        margin-top: 28px;
        min-height: calc(100vh - 28px);
        padding: 6px;
    }
    
    #navbar {
        padding: 1px 0;
    }
    
    #calculator {
        max-width: 95vw;
        border-radius: 18px;
    }
    
    #display {
        padding: 18px 22px;
        font-size: 1.9rem;
        border-top-left-radius: 18px;
        border-top-right-radius: 18px;
        min-height: 55px;
    }
    
    .keyboard-mode {
        padding: 14px;
        gap: 9px;
        border-bottom-left-radius: 18px;
        border-bottom-right-radius: 18px;
    }
    
    #normal-keys button,
    #scientific-keys button,
    #conversion-keys button {
        height: 48px;
        font-size: 1.1rem;
        border-radius: 9px;
    }
    
    .calculator-icon {
        font-size: 1.3rem;
        padding: 4px;
    }
    
    .icon-btn {
        width: 36px;
        height: 36px;
        font-size: 1rem;
    }
    
    .mode-btn {
        padding: 2px 6px;
        font-size: 0.7rem;
    }
}

/* iPhone 13 series with iOS Safari specific adjustments */
@supports (-webkit-touch-callout: none) {
    /* iOS Safari specific styles */
    #display {
        appearance: none;
        -webkit-appearance: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
    }
    
    button {
        -webkit-tap-highlight-color: rgba(148, 201, 169, 0.3);
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }
    
    
    /* Prevent zoom on input focus for iOS */
    input, button, select, textarea {
        font-size: 16px !important;
    }
}

/* iPhone 13 series Safe Area adjustments */
@supports (padding: max(0px)) {
    body {
        padding-left: max(10px, env(safe-area-inset-left));
        padding-right: max(10px, env(safe-area-inset-right));
        padding-bottom: max(10px, env(safe-area-inset-bottom));
    }
    
    #navbar {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
    }
    
    #calculator {
        margin-left: max(0px, env(safe-area-inset-left));
        margin-right: max(0px, env(safe-area-inset-right));
    }
}

/* iPhone 13 series Dark Mode support */
@media (prefers-color-scheme: dark) {
    body {
        background-color: #1a1a1a;
    }
    
    #calculator {
        background-color: #2d2d2d;
        border-color: #4a4a4a;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }
    
    .keyboard-mode {
        background-color: #3a3a3a;
    }
    
    .history-panel {
        background-color: #2d2d2d;
        border-color: #4a4a4a;
    }
    
    .history-item {
        background-color: #3a3a3a;
        color: #ffffff;
    }
    
    .history-item:hover {
        background-color: #4a4a4a;
    }
    
    .history-expression {
        color: #ffffff;
    }
    
    .history-result {
        color: #94C9A9;
    }
    
    .history-timestamp {
        color: #777DA7;
    }
}

/* Print styles */
@media print {
    body {
        margin-top: 0;
        padding: 0;
        background: white;
    }
    
    #navbar {
        display: none;
    }
    
    #calculator {
        box-shadow: none;
        border: 1px solid #ccc;
    }
    
    button {
        border: 1px solid #ccc;
        background: white !important;
        color: black !important;
    }
}